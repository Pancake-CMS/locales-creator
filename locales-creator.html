<link rel="import" href="../polymer/polymer.html">
<link rel="import" href="../paper-input/paper-input.html">
<link rel="import" href="../paper-button/paper-button.html">

<dom-module id="locales-creator">
    <template>
        <style>
            :host {
                display: block;
                @apply(--layout-horizontal);
                padding: 20px 0;
            }
            paper-input {
                @apply(--layout-flex-8);
            }
            paper-button {
                @apply(--layout-flex-2);
                margin: 0 0 0 15px;
            }
        </style>
        <paper-input label="New Locale" value="{{value}}"></paper-input>
        <paper-button on-click="addLocale" raised>Add Locale</paper-button>
    </template>
    <script>
        Polymer({
            is: 'locales-creator',

            properties: {
                value: {
                    type: String,
                    value: ''
                },
                locales: {
                    type: Array,
                    notify: true,
                    reflectToAttribute: true,
                    value: []
                }
            },

            addLocale: function() {
                if(!this.locales.length) {
                    this.set('locales', []);
                }

                for(var i=0; i < this.locales.length; i++) {
                    if(this.locales[i] == this.value) {
                        this.value = '';
                        return
                    }
                }
                this.push('locales', this.value);
                this.value = '';
            }
        });
    </script>
</dom-module>